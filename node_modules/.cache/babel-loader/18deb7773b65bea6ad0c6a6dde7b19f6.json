{"ast":null,"code":"import _slicedToArray from\"C:/Users/Samyuktha/Documents/hotelbookingapp/booking-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./list.css\";import Navbar from\"../../components/navbar/Navbar\";import Header from\"../../components/header/Header\";import{useLocation}from\"react-router-dom\";import{useContext,useEffect,useState}from\"react\";import{format}from\"date-fns\";import{DateRange}from\"react-date-range\";import SearchItem from\"../../components/searchItem/SearchItem\";import useFetch from\"../../hooks/useFetch\";import{SearchContext}from\"../../context/SearchContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var List=function List(){var _location$state,_location$state2,_location$state3,_dates$,_dates$2;var location=useLocation();var _useState=useState(((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.destination)||''),_useState2=_slicedToArray(_useState,2),destination=_useState2[0],setDestination=_useState2[1];var _useState3=useState(((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.dates)||[]),_useState4=_slicedToArray(_useState3,2),dates=_useState4[0],setDates=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openDate=_useState6[0],setOpenDate=_useState6[1];var _useState7=useState(((_location$state3=location.state)===null||_location$state3===void 0?void 0:_location$state3.options)||[]),_useState8=_slicedToArray(_useState7,2),options=_useState8[0],setOptions=_useState8[1];var _useState9=useState(undefined),_useState10=_slicedToArray(_useState9,2),min=_useState10[0],setMin=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),max=_useState12[0],setMax=_useState12[1];//console.log(\"I\");\nvar _useFetch=useFetch(\"/api/hotels?city=\".concat(destination,\"&min=\").concat(min||0,\"&max=\").concat(max||999)),data=_useFetch.data,loading=_useFetch.loading,error=_useFetch.error,reFetch=_useFetch.reFetch;var _useContext=useContext(SearchContext),dispatch=_useContext.dispatch;var handleClick=function handleClick(){dispatch({type:\"NEW_SEARCH\",payload:{city:destination,dates:dates,options:options}});reFetch();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Header,{type:\"list\"}),/*#__PURE__*/_jsx(\"div\",{className:\"listContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"listWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listSearch\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"lsTitle\",children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Destination\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:destination,type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Check-in Date\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setOpenDate(!openDate);},children:(_dates$=dates[0])!==null&&_dates$!==void 0&&_dates$.startDate&&(_dates$2=dates[0])!==null&&_dates$2!==void 0&&_dates$2.endDate?\"\".concat(format(dates[0].startDate,\"MM/dd/yyyy\"),\" to \").concat(format(dates[0].endDate,\"MM/dd/yyyy\")):\"Select Dates\"}),openDate&&/*#__PURE__*/_jsx(DateRange,{onChange:function onChange(item){return setDates([item.selection]);},minDate:new Date(),ranges:dates})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Options\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"lsOptionText\",children:[\"Min price \",/*#__PURE__*/_jsx(\"small\",{children:\"per night\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setMin(e.target.value);},className:\"lsOptionInput\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"lsOptionText\",children:[\"Max price \",/*#__PURE__*/_jsx(\"small\",{children:\"per night\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setMax(e.target.value);},className:\"lsOptionInput\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lsOptionText\",children:\"Adult\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,className:\"lsOptionInput\",placeholder:options.adult})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lsOptionText\",children:\"Children\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:0,className:\"lsOptionInput\",placeholder:options.children})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lsOptionText\",children:\"Room\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,className:\"lsOptionInput\",placeholder:options.room})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"listResult\",children:loading?\"loading\":/*#__PURE__*/_jsx(_Fragment,{children:data.map(function(item){return/*#__PURE__*/_jsx(SearchItem,{item:item},item._id);})})})]})})]});};export default List;","map":{"version":3,"sources":["C:/Users/Samyuktha/Documents/hotelbookingapp/booking-frontend/src/pages/list/List.jsx"],"names":["Navbar","Header","useLocation","useContext","useEffect","useState","format","DateRange","SearchItem","useFetch","SearchContext","List","location","state","destination","setDestination","dates","setDates","openDate","setOpenDate","options","setOptions","undefined","min","setMin","max","setMax","data","loading","error","reFetch","dispatch","handleClick","type","payload","city","startDate","endDate","item","selection","Date","e","target","value","adult","children","room","map","_id"],"mappings":"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","sourcesContent":["import \"./list.css\";\r\nimport Navbar from \"../../components/navbar/Navbar\";\r\nimport Header from \"../../components/header/Header\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { format } from \"date-fns\";\r\nimport { DateRange } from \"react-date-range\";\r\nimport SearchItem from \"../../components/searchItem/SearchItem\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport { SearchContext } from \"../../context/SearchContext\";\r\n\r\nconst List = () => {\r\n  const location = useLocation();\r\n  const [destination, setDestination] = useState(location.state?.destination || '');\r\n  const [dates, setDates] = useState(location.state?.dates || []);\r\n  const [openDate, setOpenDate] = useState(false);\r\n  const [options, setOptions] = useState(location.state?.options || []);\r\n  const [min, setMin] = useState(undefined);\r\n  const [max, setMax] = useState(undefined);\r\n  //console.log(\"I\");\r\n  const { data, loading, error, reFetch } = useFetch(\r\n    `/api/hotels?city=${destination}&min=${min || 0}&max=${max || 999}`\r\n  );\r\n\r\n  const {  dispatch } = useContext(SearchContext);\r\n  \r\n  const handleClick = () => {\r\n    dispatch({ type: \"NEW_SEARCH\", payload: { city:destination, dates:dates, options:options } });\r\n    reFetch();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <Header type=\"list\" />\r\n      <div className=\"listContainer\">\r\n        <div className=\"listWrapper\">\r\n          <div className=\"listSearch\">\r\n            <h1 className=\"lsTitle\">Search</h1>\r\n            <div className=\"lsItem\">\r\n              <label>Destination</label>\r\n              <input placeholder={destination} type=\"text\" />\r\n            </div>\r\n            <div className=\"lsItem\">\r\n              <label>Check-in Date</label>\r\n              <span onClick={() => setOpenDate(!openDate)}>{dates[0]?.startDate && dates[0]?.endDate\r\n                ? `${format(dates[0].startDate, \"MM/dd/yyyy\")} to ${format(\r\n                  dates[0].endDate,\r\n                  \"MM/dd/yyyy\"\r\n                )}`\r\n                : \"Select Dates\"}</span>\r\n              {openDate && (\r\n                <DateRange\r\n                  onChange={(item) => setDates([item.selection])}\r\n                  minDate={new Date()}\r\n                  ranges={dates}\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"lsItem\">\r\n              <label>Options</label>\r\n              <div className=\"lsOptions\">\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">\r\n                    Min price <small>per night</small>\r\n                  </span>\r\n                  <input\r\n                    type=\"number\"\r\n                    onChange={(e) => setMin(e.target.value)}\r\n                    className=\"lsOptionInput\"\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">\r\n                    Max price <small>per night</small>\r\n                  </span>\r\n                  <input\r\n                    type=\"number\"\r\n                    onChange={(e) => setMax(e.target.value)}\r\n                    className=\"lsOptionInput\"\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">Adult</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    className=\"lsOptionInput\"\r\n                    placeholder={options.adult}\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">Children</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    className=\"lsOptionInput\"\r\n                    placeholder={options.children}\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">Room</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    className=\"lsOptionInput\"\r\n                    placeholder={options.room}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button onClick={handleClick}>Search</button>\r\n          </div>\r\n          <div className=\"listResult\">\r\n            {loading ? (\r\n              \"loading\"\r\n            ) : (\r\n              <>\r\n                {data.map((item) => (\r\n                  <SearchItem item={item} key={item._id} />\r\n                ))}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default List;\r\n"]},"metadata":{},"sourceType":"module"}